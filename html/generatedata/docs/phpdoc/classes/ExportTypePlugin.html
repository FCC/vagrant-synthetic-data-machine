<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>phpDocumentor » \ExportTypePlugin</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">phpDocumentor</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/Core.html"><i class="icon-folder-open"></i> Core</a></li>
<li><a href="../packages/Countries.html"><i class="icon-folder-open"></i> Countries</a></li>
<li><a href="../packages/DataTypes.html"><i class="icon-folder-open"></i> DataTypes</a></li>
<li><a href="../packages/ExportTypes.html"><i class="icon-folder-open"></i> ExportTypes</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">654</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">10</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method___construct" title="__construct :: Our default constructor."><span class="description">Our default constructor.</span><pre>__construct()</pre></a></li>
<li class="method public "><a href="#method_generate" title="generate :: This does the job of actually generating the data in the appropriate format."><span class="description">This does the job of actually generating the data in the appropriate format.</span><pre>generate()</pre></a></li>
<li class="method public "><a href="#method_getAdditionalSettingsHTML" title="getAdditionalSettingsHTML :: If the Export Type needs to display any additional settings in the UI (like XML, CSV or SQL does), it needs
to define this function which return the markup."><span class="description">If the Export Type needs to display any additional settings in the UI (like XML, CSV or SQL does), it needs
to define this function which return the markup.</span><pre>getAdditionalSettingsHTML()</pre></a></li>
<li class="method public "><a href="#method_getCSSFile" title="getCSSFile :: Returns the CSS filename for this Data Type (if included)."><span class="description">Returns the CSS filename for this Data Type (if included).</span><pre>getCSSFile()</pre></a></li>
<li class="method public "><a href="#method_getCodeMirrorModes" title="getCodeMirrorModes :: "><span class="description">getCodeMirrorModes()
        </span><pre>getCodeMirrorModes()</pre></a></li>
<li class="method public "><a href="#method_getContentTypeHeader" title="getContentTypeHeader :: "><span class="description">getContentTypeHeader()
        </span><pre>getContentTypeHeader()</pre></a></li>
<li class="method public "><a href="#method_getDownloadFilename" title='getDownloadFilename :: Used for the "prompt for download" option for all Export Types.'><span class="description">Used for the "prompt for download" option for all Export Types.</span><pre>getDownloadFilename()</pre></a></li>
<li class="method public "><a href="#method_getFolder" title="getFolder :: Returns the name of the Export Type in the current language."><span class="description">Returns the name of the Export Type in the current language.</span><pre>getFolder()</pre></a></li>
<li class="method public "><a href="#method_getJSModules" title="getJSModules :: Returns a list of all javascript modules for this Export Type."><span class="description">Returns a list of all javascript modules for this Export Type.</span><pre>getJSModules()</pre></a></li>
<li class="method public "><a href="#method_getName" title="getName :: Returns the name of the Export Type in the current language."><span class="description">Returns the name of the Export Type in the current language.</span><pre>getName()</pre></a></li>
<li class="method public "><a href="#method_getPath" title="getPath :: Returns the path from the generatedata root folder."><span class="description">Returns the path from the generatedata root folder.</span><pre>getPath()</pre></a></li>
<li class="method public "><a href="#method_getRowLabelTranslationKey" title="getRowLabelTranslationKey :: Returns the name of the Export Type in the current language."><span class="description">Returns the name of the Export Type in the current language.</span><pre>getRowLabelTranslationKey()</pre></a></li>
<li class="method public "><a href="#method_install" title="install :: This is called once during the initial installation of the script, or when the installation is reset (which is
effectively a fresh install)."><span class="description">This is called once during the initial installation of the script, or when the installation is reset (which is
effectively a fresh install).</span><pre>install()</pre></a></li>
<li class="method public "><a href="#method_outputHeaders" title="outputHeaders :: Outputs any additional headers, prior to the generator() call."><span class="description">Outputs any additional headers, prior to the generator() call.</span><pre>outputHeaders()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties
                    <ul><li class="property public "><a href="#property_L" title="$L :: Contains all strings for the current language."><span class="description"></span><pre>$L</pre></a></li></ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="property protected "><a href="#property_codeMirrorModes" title="$codeMirrorModes :: An array of whatever CodeMirror modes (the syntax highlighter) this Export Type needs."><span class="description"></span><pre>$codeMirrorModes</pre></a></li>
<li class="property protected "><a href="#property_contentTypeHeader" title='$contentTypeHeader :: Needed for the "prompt for download" export option.'><span class="description"></span><pre>$contentTypeHeader</pre></a></li>
<li class="property protected "><a href="#property_cssFile" title="$cssFile :: A single CSS file for any additional CSS needed for the module."><span class="description"></span><pre>$cssFile</pre></a></li>
<li class="property protected "><a href="#property_exportTypeName" title='$exportTypeName :: The name of the export type "HTML", "XML" etc.'><span class="description"></span><pre>$exportTypeName</pre></a></li>
<li class="property protected "><a href="#property_jsModules" title="$jsModules :: An array of JS modules that need to be included for this module."><span class="description"></span><pre>$jsModules</pre></a></li>
<li class="property protected "><a href="#property_openResultsInDialog" title="$openResultsInDialog :: By default, the Data Generator opens a dialog window to display the results."><span class="description"></span><pre>$openResultsInDialog</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\ExportTypePlugin"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/global.html">global</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/ExportTypePlugin.html">ExportTypePlugin</a>
</li>
</ul>
<div class="element class">
<p class="short_description">Our base class for all Export Type plugins.</p>
<div class="details">
<div class="long_description"><p>All Export Types must define a class that extends this class.
This page documents and defines (where the language permits!) what's required, what's optional, and
what each method and member variable does.</p></div>
<table class="table table-bordered">
<tr>
<th>author</th>
<td><a href="mailto:ben.keen@gmail.com">Ben Keen</a></td>
</tr>
<tr>
<th>package</th>
<td><a href="../packages/Core.html">Core</a></td>
</tr>
<tr>
<th>abstract</th>
<td></td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method___construct"></a><div class="element clickable method public method___construct" data-toggle="collapse" data-target=".method___construct .collapse">
<h2>Our default constructor.</h2>
<pre>__construct($runtimeContext) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>This populates $L for the instantiated class. Export Types
are constructed when the main generator UI page loads; for actual code generation, their generate()
function is called.</p></div>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$runtimeContext</h4></div>
</div></div>
</div>
<a id="method_generate"></a><div class="element clickable method public method_generate" data-toggle="collapse" data-target=".method_generate .collapse">
<h2>This does the job of actually generating the data in the appropriate format.</h2>
<pre>generate(<a href="../classes/Generator.html">\Generator</a> $generator) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>It's fed the instantiated
Generator class, containing the various information the Export Type could need.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$generator</h4>
<code><a href="../classes/Generator.html">\Generator</a></code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_getAdditionalSettingsHTML"></a><div class="element clickable method public method_getAdditionalSettingsHTML" data-toggle="collapse" data-target=".method_getAdditionalSettingsHTML .collapse">
<h2>If the Export Type needs to display any additional settings in the UI (like XML, CSV or SQL does), it needs
to define this function which return the markup.</h2>
<pre>getAdditionalSettingsHTML() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The hiding/showing of the appropriate section happens automatically.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_getCSSFile"></a><div class="element clickable method public method_getCSSFile" data-toggle="collapse" data-target=".method_getCSSFile .collapse">
<h2>Returns the CSS filename for this Data Type (if included).</h2>
<pre>getCSSFile() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_getCodeMirrorModes"></a><div class="element clickable method public method_getCodeMirrorModes" data-toggle="collapse" data-target=".method_getCodeMirrorModes .collapse">
<h2>getCodeMirrorModes()
        </h2>
<pre>getCodeMirrorModes() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_getContentTypeHeader"></a><div class="element clickable method public method_getContentTypeHeader" data-toggle="collapse" data-target=".method_getContentTypeHeader .collapse">
<h2>getContentTypeHeader()
        </h2>
<pre>getContentTypeHeader() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_getDownloadFilename"></a><div class="element clickable method public method_getDownloadFilename" data-toggle="collapse" data-target=".method_getDownloadFilename .collapse">
<h2>Used for the "prompt for download" option for all Export Types.</h2>
<pre>getDownloadFilename(<a href="../classes/Generator.html">\Generator</a> $generator) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>This function needs to return the
filename of the downloadable file. It can either be "clever" and construct a filename based on the
current data being generated, or simple: the same filename each time. It doesn't matter: purely a
matter of preference.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$generator</h4>
<code><a href="../classes/Generator.html">\Generator</a></code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_getFolder"></a><div class="element clickable method public method_getFolder" data-toggle="collapse" data-target=".method_getFolder .collapse">
<h2>Returns the name of the Export Type in the current language.</h2>
<pre>getFolder() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_getJSModules"></a><div class="element clickable method public method_getJSModules" data-toggle="collapse" data-target=".method_getJSModules .collapse">
<h2>Returns a list of all javascript modules for this Export Type.</h2>
<pre>getJSModules() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_getName"></a><div class="element clickable method public method_getName" data-toggle="collapse" data-target=".method_getName .collapse">
<h2>Returns the name of the Export Type in the current language.</h2>
<pre>getName() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_getPath"></a><div class="element clickable method public method_getPath" data-toggle="collapse" data-target=".method_getPath .collapse">
<h2>Returns the path from the generatedata root folder.</h2>
<pre>getPath() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>That value is automatically created
for each module when it it instantiated.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_getRowLabelTranslationKey"></a><div class="element clickable method public method_getRowLabelTranslationKey" data-toggle="collapse" data-target=".method_getRowLabelTranslationKey .collapse">
<h2>Returns the name of the Export Type in the current language.</h2>
<pre>getRowLabelTranslationKey() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_install"></a><div class="element clickable method public method_install" data-toggle="collapse" data-target=".method_install .collapse">
<h2>This is called once during the initial installation of the script, or when the installation is reset (which is
effectively a fresh install).</h2>
<pre>install() : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>It is called AFTER the Core tables are installed, and you can rely
on Core::$db having been initialized and the database connection having been set up.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>[0] success / Error
				 [1] the error message, if there was a problem</div>
</div></div>
</div>
<a id="method_outputHeaders"></a><div class="element clickable method public method_outputHeaders" data-toggle="collapse" data-target=".method_outputHeaders .collapse">
<h2>Outputs any additional headers, prior to the generator() call.</h2>
<pre>outputHeaders() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a id="property_L"> </a><div class="element clickable property public property_L" data-toggle="collapse" data-target=".property_L .collapse">
<h2></h2>
<pre>$L : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>This is populated automatically on instantiation and
contains the strings for the currently selected language.</p></div></div></div>
</div>
<a id="property_codeMirrorModes"> </a><div class="element clickable property protected property_codeMirrorModes" data-toggle="collapse" data-target=".property_codeMirrorModes .collapse">
<h2></h2>
<pre>$codeMirrorModes : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>This ensures they're
all loaded at runtime for use in the generator.</p></div></div></div>
</div>
<a id="property_contentTypeHeader"> </a><div class="element clickable property protected property_contentTypeHeader" data-toggle="collapse" data-target=".property_contentTypeHeader .collapse">
<h2></h2>
<pre>$contentTypeHeader : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>This should contain the standard Content-Type header
value (like "text/html") of the generated content, so the browser knows what to do with the downloaded file.</p></div></div></div>
</div>
<a id="property_cssFile"> </a><div class="element clickable property protected property_cssFile" data-toggle="collapse" data-target=".property_cssFile .collapse">
<h2></h2>
<pre>$cssFile </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>It's up to the developer to properly
name their CSS classes/IDs to prevent namespace collisions.</p></div></div></div>
</div>
<a id="property_exportTypeName"> </a><div class="element clickable property protected property_exportTypeName" data-toggle="collapse" data-target=".property_exportTypeName .collapse">
<h2></h2>
<pre>$exportTypeName : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>This is always in English; even in different languages,
"JSON" is still "JSON", so having no translation is acceptable here.</p></div></div></div>
</div>
<a id="property_jsModules"> </a><div class="element clickable property protected property_jsModules" data-toggle="collapse" data-target=".property_jsModules .collapse">
<h2></h2>
<pre>$jsModules : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>They should be requireJS-friendly
modules.</p></div></div></div>
</div>
<a id="property_openResultsInDialog"> </a><div class="element clickable property protected property_openResultsInDialog" data-toggle="collapse" data-target=".property_openResultsInDialog .collapse">
<h2></h2>
<pre>$openResultsInDialog : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"><p>This setting lets you choose
to override that and just pass the Ajax request directly to the server. This is handy for export types like
Excel which just prompts for file download - not shows the results in the UI.</p></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a12</a> and<br>
            generated on 2012-11-28T22:03:12-08:00.<br></footer></div>
</div>
</body>
</html>
